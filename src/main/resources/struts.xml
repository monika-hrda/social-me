<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">
    
<struts>
	<constant name="struts.devMode" value="true"></constant>
	<constant name="struts.enable.DynamicMethodInvocation" value="false" />
	 
	 <!-- constant to define result path locations to project root directory -->
	<constant name="struts.convention.result.path" value="/"></constant>
	
	<package name="user" namespace="/" extends="struts-default">	
		<interceptors>
			<interceptor name="authentication" class="mhrda.socialme.interceptors.AuthenticationInterceptor"></interceptor>
			<interceptor-stack name="authStack">
				<interceptor-ref name="authentication"></interceptor-ref>
				<interceptor-ref name="defaultStack"></interceptor-ref>
			</interceptor-stack>
		</interceptors>
		
		<default-interceptor-ref name="authStack"></default-interceptor-ref>
		
		<global-results>
			<result name="login" type="redirect">/home.action</result>
		</global-results>
		
	    <action name="home">  						<!-- or rather "showLogin" -->
	    	<interceptor-ref name="defaultStack"></interceptor-ref>
	        <result>/pages/login.jsp</result>
	    </action>
	    
	    <action name="login" class="mhrda.socialme.actions.LoginAction">
	    	<interceptor-ref name="defaultStack"></interceptor-ref>
		    <result name="success">/pages/welcome.jsp</result>
		    <result name="error">/pages/error.jsp</result>
		    <result name="input">/pages/login.jsp</result>
	    </action>
	    
	    <action name="logout" class="mhrda.socialme.actions.LoginAction" method="logout">
	    	<result name="success">/pages/login.jsp</result>
	    	<!-- <result name="success" type="redirect">/home.action</result> -->
	    </action>
	    
	    <action name="test" class="mhrda.socialme.actions.TestAction">
	    	<result name="success">/pages/welcome.jsp</result>
	    </action>
	</package>
	
</struts>